function sbcx_read(l){var a="";a="mac="+l,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"device/getDevInfo.action",dataType:"json",data:a,success:function(l){today=l.today,sevenDay=l.sevenDay,firstDayOfMonth=l.firstDayOfMonth;var s="";s+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>\u8bbe\u5907\u57fa\u672c\u4fe1\u606f</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',s+='<div class="form-group"><label class="col-sm-2 control-label">\u8bbe\u5907\u578b\u53f7</label><div class="col-sm-3"><p class="form-control-static">'+l.devModel+'</p></div><label class="col-sm-2 control-label">\u8bbe\u5907MAC</label><div class="col-sm-3"><p class="form-control-static">'+l.mac+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8bbe\u5907\u5382\u5546</label><div class="col-sm-3"><p class="form-control-static">'+l.devFactory+'</p></div><label class="col-sm-2 control-label">\u8bbe\u5907\u5e8f\u5217\u53f7</label><div class="col-sm-3"><p class="form-control-static">'+l.dev_sn+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u603b\u5185\u5b58</label><div class="col-sm-3"><p class="form-control-static">'+BToGb(l.total_memory)+'</p></div><label class="col-sm-2 control-label">SD\u5361\u5bb9\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+BToGb(l.total_sdcard)+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u786c\u76d8\u5bb9\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+BToGb(l.total_disk)+"</p></div></div>",s+="</form></div></div></div>",s+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>\u8bbe\u5907\u5b89\u88c5\u4fe1\u606f</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',s+='<div class="form-group"><label class="col-sm-2 control-label">\u914d\u5c5e\u5c40</label><div class="col-sm-3"><p class="form-control-static">'+l.bureauName+'</p></div><label class="col-sm-2 control-label">\u914d\u5c5e\u6bb5</label><div class="col-sm-3"><p class="form-control-static">'+l.stationName+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u914d\u5c5e\u8f66\u95f4</label><div class="col-sm-3"><p class="form-control-static">'+l.shopName+'</p></div><label class="col-sm-2 control-label">\u8f66\u6b21</label><div class="col-sm-3"><p class="form-control-static">'+l.lineName+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8f66\u578b</label><div class="col-sm-3"><p class="form-control-static">'+l.lineModel+'</p></div><label class="col-sm-2 control-label">\u7ec4\u522b</label><div class="col-sm-3"><p class="form-control-static">'+l.groupName+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u59cb\u53d1</label><div class="col-sm-3"><p class="form-control-static">'+l.startStation+'</p></div><label class="col-sm-2 control-label">\u7ec8\u70b9</label><div class="col-sm-3"><p class="form-control-static">'+l.endStation+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8f66\u53a2</label><div class="col-sm-3"><p class="form-control-static">'+l.carriageNo+'</p></div><label class="col-sm-2 control-label">\u8f66\u53f7</label><div class="col-sm-3"><p class="form-control-static">'+l.carriageName+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8f66\u79cd</label><div class="col-sm-3"><p class="form-control-static">'+l.carriageType+'</p></div><label class="col-sm-2 control-label">\u6545\u969c\u63cf\u8ff0</label><div class="col-sm-3"><p class="form-control-static">'+trobuleTypeCN(l.trobuleType)+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u5165\u5e93\u65f6\u95f4</label><div class="col-sm-3"><p class="form-control-static">'+l.inStorageTime+'</p></div><label class="col-sm-2 control-label">\u51fa\u5e93\u65f6\u95f4</label><div class="col-sm-3"><p class="form-control-static">'+l.outStorageTime+"</p></div></div>",s+="</form></div></div></div>",s+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>SIM\u4fe1\u606f</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',s+='<div class="form-group"><label class="col-sm-2 control-label">\u53611\u53f7</label><div class="col-sm-3"><p class="form-control-static">'+l.iccid1+'</p></div><label class="col-sm-2 control-label">\u53612\u53f7</label><div class="col-sm-3"><p class="form-control-static">'+l.iccid2+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8fd0\u8425\u5546</label><div class="col-sm-3"><p class="form-control-static">'+iccid1CN(l.sim1Type)+'</p></div><label class="col-sm-2 control-label">\u8fd0\u8425\u5546</label><div class="col-sm-3"><p class="form-control-static">'+iccidCN(l.sim2Type)+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u72b6\u6001</label><div class="col-sm-3"><p class="form-control-static">'+l.iccid1_status+'</p></div><label class="col-sm-2 control-label">\u72b6\u6001</label><div class="col-sm-3"><p class="form-control-static">'+l.iccid2_status+"</p></div></div>",s+="</form></div></div></div>",s+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>\u8fd0\u884c\u4fe1\u606f</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',s+='<div class="form-group"><label class="col-sm-2 control-label">\u8bbe\u5907\u72b6\u6001</label><div class="col-sm-3"><p class="form-control-static">'+devAssetsStatusCN(l.devAssetsStatus)+'</p></div><label class="col-sm-2 control-label">\u5b89\u88c5\u72b6\u6001</label><div class="col-sm-3"><p class="form-control-static">'+isInstallCN(l.is_install)+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8fd0\u884c\u72b6\u6001</label><div class="col-sm-3"><p class="form-control-static">'+l.devStatus+'</p></div><label class="col-sm-2 control-label">GPS\u4fe1\u606f</label><div class="col-sm-3"><p class="form-control-static">'+l.gpsaddr+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">\u8f6f\u4ef6\u7248\u672c</label><div class="col-sm-3"><p class="form-control-static">'+l.software_version+'</p></div><label class="col-sm-2 control-label">\u786c\u4ef6\u7248\u672c</label><div class="col-sm-3"><p class="form-control-static">'+l.hardware_version+"</p></div></div>",s+='<div class="form-group"><label class="col-sm-2 control-label">portal\u7248\u672c</label><div class="col-sm-3"><p class="form-control-static">'+l.content_version+'</p></div><label class="col-sm-2 control-label">\u6700\u540e\u4e0a\u62a5\u65f6\u95f4</label><div class="col-sm-3"><p class="form-control-static">'+l.devCurrTime+"</p></div></div>",s+="</form></div></div></div>",$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"devFlowInfo/queryDevTracfficTodaySevenDayMonth.action",dataType:"json",data:a,success:function(l){var a="";a+=s,a+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>\u5f53\u5929\u6d41\u91cf('+today+')</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',a+='<div class="form-group"><label class="col-sm-2 control-label">\u7528\u6237\u7aef\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficToday.userTraffic)+'</p></div><label class="col-sm-2 control-label">\u540e\u7aef\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficToday.backendTraffic)+"</p></div></div>",a+='<div class="form-group"><label class="col-sm-2 control-label">\u8054\u901a\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficToday.unicomTraffic)+'</p></div><label class="col-sm-2 control-label">\u7535\u4fe1\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficToday.telecomTraffic)+"</p></div></div>",a+='<div class="form-group"><label class="col-sm-2 control-label">\u4e0a\u884c\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficToday.simTrafficTx)+'</p></div><label class="col-sm-2 control-label">\u4e0b\u884c\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficToday.simTrafficRx)+"</p></div></div>",a+="</form></div></div></div>",a+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>\u4e03\u5929\u6d41\u91cf('+sevenDay+"-"+today+')</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',a+='<div class="form-group"><label class="col-sm-2 control-label">\u7528\u6237\u7aef\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficMonth.userTraffic)+'</p></div><label class="col-sm-2 control-label">\u540e\u7aef\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficMonth.backendTraffic)+"</p></div></div>",a+='<div class="form-group"><label class="col-sm-2 control-label">\u8054\u901a\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficMonth.unicomTraffic)+'</p></div><label class="col-sm-2 control-label">\u7535\u4fe1\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficMonth.telecomTraffic)+"</p></div></div>",a+='<div class="form-group"><label class="col-sm-2 control-label">\u4e0a\u884c\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficMonth.simTrafficTx)+'</p></div><label class="col-sm-2 control-label">\u4e0b\u884c\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficMonth.simTrafficRx)+"</p></div></div>",a+="</form></div></div></div>",a+='<br><div class="container-fluid"><div class="panel panel-default"><div class="panel-heading"><label>\u5f53\u6708\u6d41\u91cf('+firstDayOfMonth+"-"+today+')</label></div><div class="panel-body"><form class="form-horizontal" id="FormValidator">',a+='<div class="form-group"><label class="col-sm-2 control-label">\u7528\u6237\u7aef\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficSevenDay.userTraffic)+'</p></div><label class="col-sm-2 control-label">\u540e\u7aef\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficSevenDay.backendTraffic)+"</p></div></div>",a+='<div class="form-group"><label class="col-sm-2 control-label">\u8054\u901a\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficSevenDay.unicomTraffic)+'</p></div><label class="col-sm-2 control-label">\u7535\u4fe1\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficSevenDay.telecomTraffic)+"</p></div></div>",a+='<div class="form-group"><label class="col-sm-2 control-label">\u4e0a\u884c\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficSevenDay.simTrafficTx)+'</p></div><label class="col-sm-2 control-label">\u4e0b\u884c\u6d41\u91cf</label><div class="col-sm-3"><p class="form-control-static">'+MToGb(l.tracfficSevenDay.simTrafficRx)+"</p></div></div>",a+="</form></div></div></div>",BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,title:"\u8bbe\u5907\u8be6\u60c5",message:a,onshown:function(l){},buttons:[{label:"\u5173\u95ed",action:function(l){l.close()}}]})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8bbe\u5907\u6d41\u91cf\u8be6\u60c5\uff01")}})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8bbe\u5907\u8be6\u60c5\uff01")}})}function queryParams_sbcx(l){var a={limit:l.limit,offset:l.offset,car_type:car_type,trainBureauId:$("#RailwayBureau").val(),trainStationId:$("#RailwayStation").val(),trainShopId:$("#TrainShop").val(),lineName:$("#AllTrainLine").val(),carriageName:$("#carriageName").val(),devAssetsStatus:$("#devAssetsStatus").val(),devStatus:$("#devStatus").val(),devModel:$("#devModel").val(),dev_sn:$("#mac").val(),content_version:$("#ContentVerison").val(),usbUpdateVersion:$("#UsbUpdateVersion").val(),car_type:car_type};return a}getDevAssetsStatusType(),getContentVerison(car_type),getUsbUpdateVersion(),getDevModel();var sourceArray=new Array,TempTrainLineId,TempLineName;getAllTrainLine("","","");var $table=$("#table-sbcx");$table.bootstrapTable({method:"post",contentType:"application/x-www-form-urlencoded",url:"device/queryDeviceForPage.action",dataType:"json",striped:!0,toolbar:"#toolbar",uniqueId:"devId",pagination:!0,singleSelect:!1,idField:"devId",sortable:!1,sidePagination:"server",queryParams:queryParams_sbcx,columns:[{title:"\u5e8f\u53f7",field:"devId",align:"center",valign:"middle",formatter:function(l,a,s){return s+1}},{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",field:"dev_sn",align:"center",valign:"middle",formatter:function(l,a,s){var o='<a href="javascript:void(0);" onclick="sbcx_read(\''+a.mac+"');\">"+l+"</a>";return o}},{title:"\u914d\u5c5e\u5c40",field:"bureauName",align:"center",valign:"middle"},{title:"\u914d\u5c5e\u6bb5",field:"stationName",align:"center",valign:"middle"},{title:"\u914d\u5c5e\u8f66\u95f4",field:"shopName",align:"center",valign:"middle"},{title:"\u8f66\u6b21",field:"lineName",align:"center",valign:"middle"},{title:"\u8f66\u53f7",field:"carriageName",align:"center",valign:"middle"},{title:"portal\u7248\u672c",field:"content_version",align:"center",valign:"middle"},{title:"U\u76d8\u66f4\u65b0\u7248\u672c",field:"usbUpdateVersion",align:"center",valign:"middle"},{title:"\u53611 ICCID\u53f7",field:"iccid1",align:"center",valign:"middle"},{title:"\u53611\u53f7\u8fd0\u8425\u5546",field:"iccid1",align:"center",valign:"middle",formatter:function(l,a,s){var o=iccid1CN(l);return o}},{title:"\u53611\u72b6\u6001",field:"iccid1_status",align:"center",valign:"middle"},{title:"\u53612 ICCID\u53f7",field:"iccid2",align:"center",valign:"middle"},{title:"\u53612\u8fd0\u8425\u5546",field:"iccid2",align:"center",valign:"middle",formatter:function(l,a,s){var o=iccidCN(l);return o}},{title:"\u53612\u72b6\u6001",field:"iccid2_status",align:"center",valign:"middle"},{title:"\u8bbe\u5907\u72b6\u6001",field:"devStatus",align:"center",valign:"middle",formatter:function(l,a,s){var o=l;return o}},{title:"\u5b89\u88c5\u72b6\u6001",field:"is_install",align:"center",valign:"middle",formatter:function(l,a,s){var o=isInstallCN(l);return o}}]}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayBureau.action",dataType:"json",success:function(l){$.each(l,function(l,a){$("#RailwayBureau").append('<option value="'+a.value+'">'+a.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01")}}),$("#RailwayBureau").change(function(){if($("#AllTrainLine").val(""),getAllTrainLine($(this).val(),"",""),""!=$(this).val()){var l="";l="trainBureauId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:l,success:function(l){$("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(l,function(l,a){$("#RailwayStation").append('<option value="'+a.value+'">'+a.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}})}else $("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh")}),$("#RailwayStation").change(function(){if($("#AllTrainLine").val(""),getAllTrainLine($("#RailwayBureau").val(),$(this).val(),""),""!=$(this).val()){var l="";l="trainBureauId="+$("#RailwayBureau").val()+"&trainStationId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:l,success:function(l){$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(l,function(l,a){$("#TrainShop").append('<option value="'+a.value+'">'+a.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})}else $("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh")}),$("#TrainShop").change(function(){$("#AllTrainLine").val(""),getAllTrainLine($("#RailwayBureau").val(),$("#RailwayStation").val(),$(this).val())}),$("#serach_button").click(function(){$("#table-sbcx").bootstrapTable("refresh")}),$("#sbcx_download").click(function(){var l=$("#RailwayBureau").val(),a=$("#RailwayStation").val(),s=$("#TrainShop").val(),o=$("#AllTrainLine").val(),c=$("#devAssetsStatus").val(),i=$("#devStatus").val(),e=$("#devModel").val(),t=$("#mac").val(),r="",n=$("#ContentVerison").val(),d=$("#UsbUpdateVersion").val();null==car_type&&(car_type=""),window.open("device/exportDevice.action?trainBureauId="+l+"&trainStationId="+a+"&trainShopId="+s+"&lineName="+o+"&devAssetsStatus="+c+"&devStatus="+i+"&devModel="+e+"&dev_sn="+t+"&iccid="+r+"&content_version="+n+"&usbUpdateVersion="+d+"&car_type="+car_type)}),$("#AllTrainLine").typeahead({source:function(l,a){return a(sourceArray)},updater:function(l){return l}});