function azxx_edit(e){var t="";t="devId="+e,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"deviceInstall/getDeviceInstallDetail.action",timeout:6e4,dataType:"json",data:t,success:function(e){e=e;var t=(e.devId,e.trainCarriageId,e.devModel),a=(e.devMac,e.devMac),o=e.trainBureauId,l=e.trainStationId,n=e.trainShopId,r=e.trainLineId,c=(e.lineName,e.groupName),s=e.carriageName,p=e.carriageNo,u=e.startStation,d=e.endStation,v=e.lineModel,m=e.carriageType,h=(e.trobuleType,e.isInstall),f=e.devAssetsStatus,y=e.inStorageTime,S=e.outStorageTime,g=e.iccid1,b=e.iccid2,w=(e.simType1,e.simType2,e.trainDevTroubleId,e.installDesc),T=(iccidCN(g),iccidCN(b),e.operateType),x=e.operatorName,k=e.operateTime,I="",N="";$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayBureau.action",dataType:"json",success:function(e){for($.each(e,function(e,t){I+='<option value="'+t.value+'">'+t.text+"</option>"}),i=1;i<=30;i++)N+='<option value="'+i+'">'+i+"</option>";var R="";R+='<div class="row"><div class="col-sm-12"><form class="form-horizontal" id="FormValidator">',R+='<br><div class="form-group"><label class="col-sm-2 control-label">\u8bbe\u5907\u578b\u53f7</label><div class="col-sm-3"><p class="form-control-static">'+t+'</p></div><label class="col-sm-2 control-label">\u8bbe\u5907\u5e8f\u5217\u53f7</label><div class="col-sm-4"><p class="form-control-static">'+a+"</p></div></div>",R+='<div class="form-group"><label class="col-sm-2 control-label">\u914d\u5c5e\u5c40</label><div class="col-sm-3"><select id="RailwayBureau2" name="RailwayBureau2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u5c40</option>'+I+'</select></div><label class="col-sm-2 control-label">\u914d\u5c5e\u6bb5</label><div class="col-sm-3"><select id="RailwayStation2" name="RailwayStation2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option></select></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u914d\u5c5e\u8f66\u95f4</label><div class="col-sm-3"><select id="TrainShop2" name="TrainShop2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option></select></div><label class="col-sm-2 control-label">\u8f66\u6b21</label><div class="col-sm-3"><select id="RailwayLine2" name="RailwayLine2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u8f66\u6b21</option></select></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u8f66\u578b</label><div class="col-sm-3"><select id="LineModel2" name="LineModel2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u8f66\u578b</option></select></div><label class="col-sm-2 control-label">\u7ec4\u522b</label><div class="col-sm-3"><select id="GroupName2" name="GroupName2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u7ec4\u522b</option></select></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u59cb\u53d1\u7ad9</label><div class="col-sm-3"><select id="StartStation2" name="StartStation2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option></select></div><label class="col-sm-2 control-label">\u7ec8\u70b9\u7ad9</label><div class="col-sm-3"><select id="EndStation2" name="EndStation2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option></select></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u8f66\u53a2</label><div class="col-sm-3"><select id="CarriageNo2" name="CarriageNo2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u8f66\u53a2</option>'+N+'</select></div><label class="col-sm-2 control-label">\u8f66\u53f7</label><div class="col-sm-3"><input type="text" class="form-control" id="CarriageName2" name="CarriageName2" value="'+s+'" placeholder="\u8f93\u5165\u8f66\u53f7" maxlength="6"></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u6545\u969c\u63cf\u8ff0</label><div class="col-sm-3"><select id="TrobuleType2" name="TrobuleType2" class="selectpicker form-control" data-live-search="true"><option value="">\u6545\u969c\u63cf\u8ff0</option></select></div><label class="col-sm-2 control-label">\u8f66\u79cd</label><div class="col-sm-3"><select id="CarriageType2" name="CarriageType2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u8f66\u79cd</option></select></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u5165\u5e93\u65f6\u95f4</label><div class="col-sm-3"><div class="input-group date inStorageTime2"><input type="text" class="form-control" id="inStorageTime2" name="inStorageTime2" value="'+y+'" placeholder="\u5165\u5e93\u65f6\u95f4" readonly><span class="input-group-addon input-sm"><span class="glyphicon glyphicon-calendar"></span></span></div></div><label class="col-sm-2 control-label">\u51fa\u5e93\u65f6\u95f4</label><div class="col-sm-3"><div class="input-group date outStorageTime2"><input type="text" class="form-control" id="outStorageTime2" value="'+S+'" placeholder="\u51fa\u5e93\u65f6\u95f4" readonly><span class="input-group-addon input-sm"><span class="glyphicon glyphicon-calendar"></span></span></div></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u5361\u53f71</label><div class="col-sm-3"><p class="form-control-static">'+g+'</p></div><label class="col-sm-2 control-label">\u53611\u8fd0\u8425\u5546</label><div class="col-sm-4"><p class="form-control-static">'+iccid1CN(g)+"</p></div></div>",R+='<div class="form-group"><label class="col-sm-2 control-label">\u5361\u53f72</label><div class="col-sm-3"><p class="form-control-static">'+b+'</p></div><label class="col-sm-2 control-label">\u53612\u8fd0\u8425\u5546</label><div class="col-sm-4"><p class="form-control-static">'+iccidCN(b)+"</p></div></div>",R+='<div class="form-group"><label class="col-sm-2 control-label">\u8bbe\u5907\u72b6\u6001</label><div class="col-sm-3"><select id="devAssetsStatus2" name="devAssetsStatus2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u8bbe\u5907\u72b6\u6001</option></select></div><label class="col-sm-2 control-label">\u5b89\u88c5\u72b6\u6001</label><div class="col-sm-3"><select id="isInstall2" name="isInstall2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u5b89\u88c5\u72b6\u6001</option><option value="0">\u672a\u5b89\u88c5</option><option value="1">\u5b89\u88c5\u6b63\u5e38</option><option value="2">\u5b89\u88c5\u5f02\u5e38</option></select></div></div>',R+='<div class="form-group"><label class="col-sm-2 control-label">\u64cd\u4f5c\u4eba</label><div class="col-sm-3"><p class="form-control-static">'+T+"_"+x+'</p></div><label class="col-sm-2 control-label">\u64cd\u4f5c\u65f6\u95f4</label><div class="col-sm-4"><p class="form-control-static">'+k+"</p></div></div>",R+='<div class="form-group"><label class="col-sm-2 control-label">\u5b89\u88c5\u5bfc\u5165\u5907\u6ce8</label><div class="col-sm-8">'+w+"</div></div>",R+="</form></div></div>",BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,title:"\u5b89\u88c5\u4fe1\u606f\u8be6\u60c5\u7f16\u8f91",message:R,onshown:function(t){var a=JSON.parse(localStorage.getItem("line_model"));null!=a&&""!=a?($.each(a.list,function(e,t){$("#LineModel2").append('<option value="'+t.value+'">'+t.name+"</option>")}),$(".selectpicker").selectpicker("refresh")):errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8f66\u578b\u4fe1\u606f\uff01");var a=JSON.parse(localStorage.getItem("carriage_type"));null!=a&&""!=a?($.each(a.list,function(e,t){$("#CarriageType2").append('<option value="'+t.value+'">'+t.name+"</option>")}),$(".selectpicker").selectpicker("refresh")):errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8f66\u79cd\u4fe1\u606f\uff01");var a=JSON.parse(localStorage.getItem("dev_assets_status_type"));null!=a&&""!=e?($.each(a.list,function(e,t){$("#devAssetsStatus2").append('<option value="'+t.value+'">'+t.name+"</option>")}),$(".selectpicker").selectpicker("refresh")):errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8bbe\u5907\u72b6\u6001\u4fe1\u606f\uff01"),$(".selectpicker").selectpicker("refresh"),$("#LineModel2").selectpicker("val",v),$("#CarriageType2").selectpicker("val",m),$("#devAssetsStatus2").selectpicker("val",f),$("#isInstall2").selectpicker("val",h),$("#CarriageNo2").selectpicker("val",p),$(".selectpicker").selectpicker("refresh");var a=JSON.parse(localStorage.getItem("train_dev_trouble_type"));null!=a&&""!=a?($.each(a.list,function(e,t){$("#TrobuleType2").append('<option value="'+t.value+'">'+t.name+"</option>")}),$(".selectpicker").selectpicker("refresh")):errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u6545\u969c\u63cf\u8ff0\uff01"),$(".selectpicker").selectpicker("refresh"),$("#RailwayBureau2").selectpicker("val",o),$("#RailwayBureau2").selectpicker("refresh");var i="";i="trainBureauId="+o,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:i,success:function(e){$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$.each(e,function(e,t){$("#RailwayStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#RailwayStation2").selectpicker("val",l),$("#RailwayStation2").selectpicker("refresh");var t="";t="trainBureauId="+o+"&trainStationId="+l,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:t,success:function(e){$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(e,function(e,t){$("#TrainShop2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#TrainShop2").selectpicker("val",n),$("#TrainShop2").selectpicker("refresh");var t="";t="trainBureauId="+o+"&trainStationId="+l+"&trainShopId="+n,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayLine.action",dataType:"json",data:t,success:function(e){$("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$.each(e,function(e,t){$("#RailwayLine2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#RailwayLine2").selectpicker("val",r),$("#RailwayLine2").selectpicker("refresh");var t="";t="trainBureauId="+o+"&trainStationId="+l+"&trainShopId="+n+"&trainLineId="+r,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayLineGroup.action",dataType:"json",data:t,success:function(e){$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$.each(e,function(e,t){$("#GroupName2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#GroupName2").selectpicker("val",c),$("#GroupName2").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u7ec4\u522b\u4fe1\u606f\uff01")}}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStartStation.action",dataType:"json",data:t,success:function(e){$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$.each(e,function(e,t){$("#StartStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#StartStation2").selectpicker("val",u),$("#StartStation2").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u59cb\u53d1\u7ad9\u4fe1\u606f\uff01")}}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayEndStation.action",dataType:"json",data:t,success:function(e){$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#EndStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#EndStation2").selectpicker("val",d),$("#EndStation2").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u7ec8\u70b9\u7ad9\u4fe1\u606f\uff01")}}),$(".inStorageTime2").datetimepicker({format:"hh:ii",autoclose:!0,maxView:"hour",language:"zh-CN",startView:"day",minuteStep:1}),$(".outStorageTime2").datetimepicker({format:"hh:ii",autoclose:!0,maxView:"hour",language:"zh-CN",startView:"day",minuteStep:1})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8f66\u6b21\u4fe1\u606f\uff01")}})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}}),$("#RailwayBureau2").change(function(){if(""!=$(this).val()){var e="";e="trainBureauId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:e,success:function(e){$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#RailwayStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}})}else $("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#RailwayStation2").change(function(){if(""!=$(this).val()){var e="";e="trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:e,success:function(e){$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#TrainShop2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})}else $("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#TrainShop2").change(function(){if(""!=$(this).val()){var e="";e="trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$("#RailwayStation2").val()+"&trainShopId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayLine.action",dataType:"json",data:e,success:function(e){$("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#RailwayLine2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8f66\u6b21\u4fe1\u606f\uff01")}})}else $("#RailwayLine2").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#RailwayLine2").change(function(){if(""!=$(this).val()){var e="";e="trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$("#RailwayStation2").val()+"&trainShopId="+$("#TrainShop2").val()+"&trainLineId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayLineGroup.action",dataType:"json",data:e,success:function(e){$("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#GroupName2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u7ec4\u522b\u4fe1\u606f\uff01")}}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStartStation.action",dataType:"json",data:e,success:function(e){$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$.each(e,function(e,t){$("#StartStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u59cb\u53d1\u7ad9\u4fe1\u606f\uff01")}}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayEndStation.action",dataType:"json",data:e,success:function(e){$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#EndStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u7ec8\u70b9\u7ad9\u4fe1\u606f\uff01")}})}else $("#GroupName2").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation2").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation2").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#devAssetsStatus2").change(function(){"2"==$(this).val()?($("#TrobuleType2").selectpicker("val",""),$("#TrobuleType2").prop("disabled",!0)):"10"==$(this).val()?($("#CarriageName2,#inStorageTime2,#outStorageTime2,#installDesc2").val("").prop("disabled",!0),$("#RailwayLine2,#GroupName2,#LineModel2,#StartStation2,#EndStation2,#CarriageNo2,#TrobuleType2,#CarriageType2,#isInstall2").selectpicker("val",""),$("#RailwayLine2,#GroupName2,#LineModel2,#StartStation2,#EndStation2,#CarriageNo2,#TrobuleType2,#CarriageType2,#isInstall2").prop("disabled",!0)):($("#RailwayLine2,#GroupName2,#LineModel2,#StartStation2,#EndStation2,#CarriageNo2,#TrobuleType2,#CarriageType2,#isInstall2").prop("disabled",!1),$("#CarriageName2,#inStorageTime2,#outStorageTime2,#installDesc2").prop("disabled",!1)),$(".selectpicker").selectpicker("refresh")}),$("#FormValidator").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{RailwayBureau2:{message:"\u914d\u5c5e\u5c40\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u5c40"}}},RailwayStation2:{message:"\u914d\u5c5e\u6bb5\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u6bb5"}}}}})},buttons:[{label:"\u5173\u95ed",action:function(e){e.close()}}]})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01")}})},error:function(e,t,a){"timeout"==t&&BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u8bf7\u6c42\u8d85\u65f6\uff01",buttons:[{label:"\u5173\u95ed",action:function(e){e.close()}}]})}})}function queryParams_azxx(e){void 0!=$.cookie("car_type")&&0!=$.cookie("car_type")?car_type=$.cookie("car_type"):car_type=null;var t={limit:e.limit,offset:e.offset,car_type:car_type,trainBureauId:$("#RailwayBureau").val(),trainStationId:$("#RailwayStation").val(),trainShopId:$("#TrainShop").val(),trainLineId:$("#RailwayLine").val(),groupName:$("#GroupName").val(),startStation:$("#StartStation").val(),endStation:$("#EndStation").val(),lineModel:$("#LineModel").val(),carriageType:$("#CarriageType").val(),trobuleType:$("#TrobuleType").val(),inStorageTimeFrom:$("#datetimeStart").val(),inStorageTimeTo:$("#datetimeEnd").val(),outStorageTimeFrom:$("#datetimeStart2").val(),outStorageTimeTo:$("#datetimeEnd2").val(),isInstall:$("#isInstall").val(),devAssetsStatus:$("#devAssetsStatus").val(),devMac:$("#DevSN").val(),car_type:car_type};return t}getDevAssetsStatusType();var $table=$("#table-azxx");$table.bootstrapTable({method:"post",contentType:"application/x-www-form-urlencoded",url:"deviceInstall/getDeviceInstall.action",dataType:"json",striped:!0,toolbar:"#toolbar",uniqueId:"devId",pagination:!0,singleSelect:!1,idField:"devId",sortable:!1,sidePagination:"server",queryParams:queryParams_azxx,columns:[{title:"\u5e8f\u53f7",field:"devId",align:"center",valign:"middle",formatter:function(e,t,a){return a+1}},{title:"\u8bbe\u5907\u578b\u53f7",field:"devModel",align:"center",valign:"middle"},{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",field:"devMac",align:"center",valign:"middle",formatter:function(e,t,a){var o='<a href="javascript:void(0);" onclick="azxx_edit('+t.devId+');">'+e+"</a>";return o}},{title:"\u914d\u5c5e\u5c40",field:"bureauName",align:"center",valign:"middle"},{title:"\u914d\u5c5e\u6bb5",field:"stationName",align:"center",valign:"middle"},{title:"\u914d\u5c5e\u8f66\u95f4",field:"shopName",align:"center",valign:"middle"},{title:"\u8f66\u6b21",field:"lineName",align:"center",valign:"middle"},{title:"\u8f66\u578b",field:"lineModel",align:"center",valign:"middle"},{title:"\u8f66\u79cd",field:"carriageType",align:"center",valign:"middle"},{title:"\u8f66\u53f7",field:"carriageName",align:"center",valign:"middle"},{title:"\u53611 ICCID\u53f7",field:"iccid1",align:"center",valign:"middle"},{title:"\u53611\u8fd0\u8425\u5546",field:"iccid1",align:"center",valign:"middle",formatter:function(e,t,a){var o=iccid1CN(e);return o}},{title:"\u53612 ICCID\u53f7",field:"iccid2",align:"center",valign:"middle"},{title:"\u53612\u8fd0\u8425\u5546",field:"iccid2",align:"center",valign:"middle",formatter:function(e,t,a){var o=iccidCN(e);return o}},{title:"\u5b89\u88c5\u72b6\u6001",field:"isInstall",align:"center",valign:"middle",formatter:function(e,t,a){var o=isInstallCN(e);return o}}],onLoadSuccess:function(){var e=$("#table-ljxx");e.find('input[name="btSelectAll"]').click(function(){1==e.find('input[name="btSelectAll"]').prop("checked")?(e.find('input[name="btSelectItem"]').each(function(){TableIDArray.push(parseInt($(this).val()))}),TableIDArray=unique(TableIDArray)):e.find('input[name="btSelectItem"]').each(function(){0==$(this).prop("checked")&&TableIDArray.splice(TableIDArray.indexOf(parseInt($(this).val())),1)})}),e.find('input[name="btSelectAll"]').click(function(){1==e.find('input[name="btSelectAll"]').prop("checked")?($("#ljxx_del").removeClass("disabled"),$("#ljxx_del").prop("disabled",!1)):($("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0))}),e.find('input[name="btSelectItem"]').each(function(){-1!=TableIDArray.indexOf(parseInt($(this).val()))&&$(this).attr("checked",!0)}),e.find('input[name="btSelectItem"]').change(function(){1==$(this).prop("checked")?TableIDArray.push(parseInt($(this).val())):TableIDArray.splice(TableIDArray.indexOf(parseInt($(this).val())),1),0!=TableIDArray.length?($("#ljxx_del").removeClass("disabled"),$("#ljxx_del").prop("disabled",!1)):($("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0))}),TableIDArray=unique(TableIDArray)}}),$("#azxx_dr").click(function(){var e="";e+='<div class="table row"><div class="form-horizontal">',e+='<div class="form-group col-sm-12"><div class="col-sm-12" id="DrTip">\u8bf7\u9009\u62e9\u9700\u8981\u5bfc\u5165\u7684Excel\u6587\u4ef6ã€‚</div></div>',e+='<div class="form-group col-sm-12"><div class="col-sm-12"><input id="file_excel" name="file_excel" class="file" type="file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"></div></div>',e+="</div></div>",BootstrapDialog.show({title:"\u8bbe\u5907\u5b89\u88c5\u4fe1\u606f\u5bfc\u5165",message:e,onshown:function(e){$("#file_excel").fileinput({language:"zh",uploadUrl:"deviceInstall/saveDeviceInstall.action",allowedFileExtensions:["xls","xlsx"],showPreview:!1,browseClass:"btn btn-primary",dropZoneEnabled:!1,maxFileCount:1,enctype:"multipart/form-data",validateInitialCount:!1}),$("#file_excel").on("filelock",function(e,t,a){$("#DrTip").html('<i class="fa fa-spinner fa-spin"></i> \u5b89\u88c5\u4fe1\u606f\u6b63\u5728\u5bfc\u5165\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...')}),$("#file_excel").on("fileuploaded",function(t,a,o,l){$("#table-azxx").bootstrapTable("refresh");var i="";i+='<div class="table row"><div class="col-sm-2 text-center"><label>\u6210\u529f\uff1a</label>'+a.response.importSucc+'</div><div class="col-sm-2 text-center"><label>\u5931\u8d25\uff1a</label>'+a.response.importFail+"</div></div>",i+='<table id="table-azxx_dr_jg">',i+="<thead><tr><th>\u8bbe\u5907\u5e8f\u5217\u53f7</th><th>\u5bfc\u5165\u4fe1\u606f</th><th>\u5bfc\u5165\u7ed3\u679c</th></tr></thead>",i+="<tbody>",a.response.result.inportInfo.forEach(function(e){i+="<tr><td>"+e.devSn+"</td><td>"+e.remarks+"</td><td>"+e.result+"</td></tr>"}),i+="</tbody>",i+="</table>",600007==a.response.code?($("#DrTip").html("\u5b89\u88c5\u4fe1\u606f\u6b63\u5728\u5bfc\u5165\u6210\u529f\uff01"),BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,title:"\u5bfc\u5165\u7ed3\u679c\u67e5\u770b",message:i,onshown:function(e){$("#table-azxx_dr_jg").bootstrapTable({pagination:!0,sidePagination:"client",pageSize:10,columns:[{align:"center",valign:"middle"},{align:"center",valign:"middle"},{align:"center",valign:"middle"}]})},buttons:[{label:"\u4e0b\u8f7d\u5931\u8d25\u5217\u8868",cssClass:"btn-primary",action:function(e){0==a.response.importFail?BootstrapDialog.alert({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u65e0\u5bfc\u5165\u5931\u8d25\u8bbe\u5907\uff0c\u65e0\u6cd5\u4e0b\u8f7d\u5931\u8d25\u8bbe\u5907\u5217\u8868\uff01",type:BootstrapDialog.TYPE_DANGER,buttonLabel:"\u786e\u8ba4"}):window.open("deviceInstall/downloadDeviceInstallFail.action")}},{label:"\u5173\u95ed",action:function(e){e.close()}}]}),e.close()):BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN(a.response.code),buttons:[{label:"\u5173\u95ed",action:function(e){e.close()}}]})})}})}),$("#azxx_Template").click(function(e){window.open("excelTemplate/device_install_import_template.xlsx")}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayBureau.action",dataType:"json",success:function(e){$.each(e,function(e,t){$("#RailwayBureau").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01")}}),getRailwayLine("","",""),$("#RailwayBureau").change(function(){if(getRailwayLine($(this).val(),"",""),""!=$(this).val()){var e="";e="trainBureauId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:e,success:function(e){$("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#RailwayStation").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}})}else $("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#RailwayStation").change(function(){if(getRailwayLine($("#RailwayBureau").val(),$(this).val(),""),""!=$(this).val()){var e="";e="trainBureauId="+$("#RailwayBureau").val()+"&trainStationId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:e,success:function(e){$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$.each(e,function(e,t){$("#TrainShop").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})}else $("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#TrainShop").change(function(){getRailwayLine($("#RailwayBureau").val(),$("#RailwayStation").val(),$(this).val()),$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),$("#RailwayLine").change(function(){if(""!=$(this).val()){var e="";e="trainBureauId="+$("#RailwayBureau").val()+"&trainStationId="+$("#RailwayStation").val()+"&trainShopId="+$("#TrainShop").val()+"&trainLineId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayLineGroup.action",dataType:"json",data:e,success:function(e){$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$.each(e,function(e,t){$("#GroupName").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u7ec4\u522b\u4fe1\u606f\uff01")}}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStartStation.action",dataType:"json",data:e,success:function(e){$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>');var t="";$.each(e,function(e,a){$("#StartStation").append('<option value="'+a.value+'">'+a.text+"</option>"),t=a.text}),$(".selectpicker").selectpicker("refresh"),1==e.length&&($("#StartStation").selectpicker("val",t),$(".selectpicker").selectpicker("refresh"))},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u59cb\u53d1\u7ad9\u4fe1\u606f\uff01")}}),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayEndStation.action",dataType:"json",data:e,success:function(e){$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>');var t="";$.each(e,function(e,a){$("#EndStation").append('<option value="'+a.value+'">'+a.text+"</option>"),t=a.text}),$(".selectpicker").selectpicker("refresh"),1==e.length&&($("#EndStation").selectpicker("val",t),$(".selectpicker").selectpicker("refresh"))},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u7ec8\u70b9\u7ad9\u4fe1\u606f\uff01")}})}else $("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")}),getCarriageType(),getLineModel(),getTrainDevTroubleType(),$("#serach_button").click(function(){$("#table-azxx").bootstrapTable("refresh")}),$("#azxx_download").click(function(){var e=$("#isInstall").val(),t=$("#RailwayBureau").val(),a=$("#RailwayStation").val(),o=$("#TrainShop").val(),l=$("#RailwayLine").val(),i=$("#DevSN").val(),n=$("#GroupName").val(),r=$("#StartStation").val(),c=$("#EndStation").val(),s=$("#LineModel").val(),p=$("#CarriageType").val(),u=$("#TrobuleType").val(),d=$("#datetimeStart").val(),v=$("#datetimeEnd").val(),m=$("#datetimeStart2").val(),h=$("#datetimeEnd2").val(),e=$("#isInstall").val(),f=$("#devAssetsStatus").val();null==car_type&&(car_type=""),window.open("deviceInstall/exportDeviceInstall.action?isInstall="+e+"&trainBureauId="+t+"&trainStationId="+a+"&trainShopId="+o+"&trainLineId="+l+"&devMac="+i+"&car_type="+car_type+"&groupName="+n+"&startStation="+r+"&startStation="+r+"&endStation="+c+"&lineModel="+s+"&carriageType="+p+"&trobuleType="+u+"&inStorageTimeFrom="+d+"&inStorageTimeTo="+v+"&outStorageTimeFrom="+m+"&outStorageTimeTo="+h+"&devAssetsStatus="+f+"&car_type="+car_type)}),$("#azxx_ywtj").click(function(){$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"deviceInstall/getDeviceInstallCountDailyFile.action",dataType:"json",success:function(e){var t="";t+='<table id="table-azxx_dr_ywtj">',t+="<thead><tr><th>\u6587\u4ef6\u540d</th><th>\u64cd\u4f5c</th></thead>",t+="<tbody>",e.result.forEach(function(e){t+="<tr><td>"+e.text+'</td><td><a class="btn btn-primary" href="/down/'+e.text+'" target="_blank">\u4e0b\u8f7d</a></td></tr>'}),t+="</tbody>",t+="</table>",600009==e.code?BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,title:"\u4e0b\u8f7d\u8fd0\u7ef4\u7edf\u8ba1\u6587\u4ef6",message:t,onshown:function(e){$("#table-azxx_dr_ywtj").bootstrapTable({pagination:!0,sidePagination:"client",pageSize:10,columns:[{align:"center",valign:"middle"},{align:"center",valign:"middle"}]})},buttons:[{label:"\u5173\u95ed",action:function(e){e.close()}}]}):BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[e.code],buttons:[{label:"\u5173\u95ed",action:function(e){e.close()}}]})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u8fd0\u7ef4\u7edf\u8ba1\u6587\u4ef6\u4fe1\u606f\uff01")}})}),$("#azxx_refresh").click(function(){$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayBureau.action",dataType:"json",success:function(e){$("#RailwayBureau").html('<option value="">\u9009\u62e9\u914d\u5c5e\u5c40</option>'),$.each(e,function(e,t){$("#RailwayBureau").append('<option value="'+t.value+'">'+t.text+"</option>")}),$("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$("#RailwayLine").html('<option value="">\u9009\u62e9\u8f66\u6b21</option>'),$("#GroupName").html('<option value="">\u9009\u62e9\u7ec4\u522b</option>'),$("#StartStation").html('<option value="">\u9009\u62e9\u59cb\u53d1\u7ad9</option>'),$("#EndStation").html('<option value="">\u9009\u62e9\u7ec8\u70b9\u7ad9</option>'),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01");
}}),$("select.selectpicker").each(function(){$(this).selectpicker("val",$(this).find("option:first").val()),$(this).find("option").attr("selected",!1)}),$("#datetimeStart,#datetimeEnd,#datetimeStart2,#datetimeEnd2,#DevSN").val("")}),$(".datetimeStart").datetimepicker({format:"hh:ii",autoclose:!0,maxView:"hour",maxView:"hour",language:"zh-CN",startView:"day",minuteStep:1}),$(".datetimeEnd").datetimepicker({format:"hh:ii",autoclose:!0,maxView:"hour",language:"zh-CN",startView:"day",minuteStep:1}),$(".datetimeStart2").datetimepicker({format:"hh:ii",autoclose:!0,maxView:"hour",language:"zh-CN",startView:"day",minuteStep:1}),$(".datetimeEnd2").datetimepicker({format:"hh:ii",autoclose:!0,maxView:"hour",language:"zh-CN",startView:"day",minuteStep:1});