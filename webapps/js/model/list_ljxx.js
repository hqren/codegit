function ljxx_edit(a){var t="";t="trainLineId="+a,$.ajax({type:"post",url:"trainLine/getTrainLine.action",timeout:6e4,dataType:"json",data:t,success:function(t){var e=t.trainBureauId,i=t.trainStationId,o=t.trainShopId,l=t.lineName,n=t.startStation,r=t.endStation,s="";$.ajax({type:"post",url:"selectObject/getRailwayBureau.action",contentType:"application/json",dataType:"json",success:function(t){$.each(t,function(a,t){s+='<option value="'+t.value+'">'+t.text+"</option>"});var c="";c+='<div class="row"><div class="col-sm-12"><form class="form-horizontal" id="FormValidator">',c+='<br><div class="form-group"><label class="col-sm-3 control-label">\u914d\u5c5e\u5c40</label><div class="col-sm-8"><select id="RailwayBureau2" name="RailwayBureau2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u5c40</option>'+s+"</select></div></div>",c+='<div class="form-group"><label class="col-sm-3 control-label">\u914d\u5c5e\u6bb5</label><div class="col-sm-8"><select id="RailwayStation2" name="RailwayStation2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option></select></div></div>',c+='<div class="form-group"><label class="col-sm-3 control-label">\u914d\u5c5e\u8f66\u95f4</label><div class="col-sm-8"><select id="TrainShop2" name="TrainShop2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option></select></div></div>',c+='<div class="form-group"><label class="col-sm-3 control-label">\u8f66\u6b21</label><div class="col-sm-8"><input type="text" id="RailwayLine2" name="RailwayLine2" class="form-control" placeholder="\u8bf7\u8f93\u5165\u8f66\u6b21" value="'+l+'"></div></div>',c+='<div class="form-group"><label class="col-sm-3 control-label">\u8d77\u70b9\u7ad9</label><div class="col-sm-8"><input type="text" id="startStation2" name="startStation2" class="form-control" placeholder="\u8d77\u70b9\u7ad9" value="'+n+'"></div></div>',c+='<div class="form-group"><label class="col-sm-3 control-label">\u7ec8\u70b9\u7ad9</label><div class="col-sm-8"><input type="text" id="endStation2" name="endStation2" class="form-control" placeholder="\u7ec8\u70b9\u7ad9" value="'+r+'"></div></div>',c+="</form></div></div>",BootstrapDialog.show({title:"\u4fee\u6539\u914d\u5c5e\u5c40\u4fe1\u606f",message:c,onshown:function(a){$(".selectpicker").selectpicker("refresh"),$("#RailwayBureau2").selectpicker("val",e),$(".selectpicker").selectpicker("refresh");var t="";$("#RailwayStation_div2").show(),t="trainBureauId="+e,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:t,success:function(a){$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$.each(a,function(a,t){$("#RailwayStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#RailwayStation2").selectpicker("val",i),$(".selectpicker").selectpicker("refresh");var t="";t="trainBureauId="+e+"&trainStationId="+i,$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:t,success:function(a){$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#TrainShop2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#TrainShop2").selectpicker("val",o),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}}),$("#FormValidator").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{RailwayBureau2:{message:"\u914d\u5c5e\u5c40\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u5c40"}}},RailwayStation2:{message:"\u914d\u5c5e\u6bb5\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u6bb5"}}},TrainShop2:{message:"\u914d\u5c5e\u8f66\u95f4\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u8f66\u95f4"}}},RailwayLine2:{message:"\u8f66\u6b21\u65e0\u6548",validators:{notEmpty:{message:"\u8f66\u6b21\u4e0d\u80fd\u4e3a\u7a7a"}}},startStation2:{message:"\u8d77\u70b9\u7ad9\u65e0\u6548",validators:{notEmpty:{message:"\u8d77\u70b9\u7ad9\u4e0d\u80fd\u4e3a\u7a7a"}}},endStation2:{message:"\u7ec8\u70b9\u7ad9\u65e0\u6548",validators:{notEmpty:{message:"\u7ec8\u70b9\u7ad9\u4e0d\u80fd\u4e3a\u7a7a"}}}}}),$("#RailwayBureau2").change(function(){if(""!=$(this).val()){var a="";a="trainBureauId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:a,success:function(a){$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#RailwayStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("RailwayStation2","NOT_VALIDATED").validateField("RailwayStation2"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}})}else $("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("RailwayStation2","NOT_VALIDATED").validateField("RailwayStation2"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")}),$("#RailwayStation2").change(function(){if(""!=$(this).val()){var a="";a="trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:a,success:function(a){$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#TrainShop2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})}else $("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")})},buttons:[{label:"\u63d0\u4ea4",cssClass:"btn-primary",action:function(t){if($("#FormValidator").bootstrapValidator("validate"),$("#FormValidator").data("bootstrapValidator").isValid()){var e="";e="trainLineId="+a+"&trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$("#RailwayStation2").val()+"&trainShopId="+$("#TrainShop2").val()+"&lineName="+$("#RailwayLine2").val()+"&startStation="+$("#startStation2").val()+"&endStation="+$("#endStation2").val(),$.ajax({type:"post",url:"trainLine/updateTrainLineById.action",timeout:6e4,dataType:"json",data:e,success:function(a){return 600005!=a.result?(BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[a.result],buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),!1):($("#table-ljxx").bootstrapTable("refresh",{url:"trainLine/queryTrainLineByPage.action"}),$("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0),BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[a.result],buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),t.close(),void 0)},error:function(a,t,e){"timeout"==t&&BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u8bf7\u6c42\u8d85\u65f6\uff01",buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]})}})}else BootstrapDialog.alert({title:"\u9a8c\u8bc1\u5931\u8d25",message:"\u8bf7\u786e\u8ba4\u8f93\u5165\u5185\u5bb9\u683c\u5f0f\u662f\u5426\u6b63\u786e\uff01",type:BootstrapDialog.TYPE_DANGER,buttonLabel:"\u786e\u8ba4"})}},{label:"\u91cd\u7f6e",action:function(a){$("#FormValidator").data("bootstrapValidator").resetForm(!0),$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh"),$("#startStation2").val(""),$("#endStation2").val("")}},{label:"\u5173\u95ed",action:function(a){a.close()}}]})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01")}})},error:function(a,t,e){"timeout"==t&&BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u8bf7\u6c42\u8d85\u65f6\uff01",buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]})}})}function ljxx_delOne(a){BootstrapDialog.confirm({title:"\u5220\u9664\u786e\u8ba4\u63d0\u9192",message:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u6240\u9009\u62e9\u8f66\u6b21\u4fe1\u606f\uff1f",closable:!0,draggable:!0,btnCancelLabel:"\u53d6\u6d88",btnOKLabel:"\u786e\u8ba4",callback:function(t){if(t){var e="";e="trainLineIds="+a,$.ajax({type:"post",url:"trainLine/doDelTrainLine.action",timeout:6e4,dataType:"json",data:e,success:function(a){return 600002!=a.result?(BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[a.result],buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),!1):($("#table-ljxx").bootstrapTable("refresh",{url:"trainLine/queryTrainLineByPage.action"}),$("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0),BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[a.result],buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),void 0)},error:function(a,t,e){"timeout"==t&&BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u8bf7\u6c42\u8d85\u65f6\uff01",buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]})}})}}})}function queryParams_ljxx(a){var t={limit:a.limit,offset:a.offset,car_type:car_type,trainBureauId:$("#RailwayBureau").val(),trainStationId:$("#RailwayStation").val(),trainShopId:$("#TrainShop").val(),trainLineId:$("#RailwayLine").val()};return t}var $table=$("#table-ljxx");$table.bootstrapTable({method:"post",contentType:"application/x-www-form-urlencoded",url:"trainLine/queryTrainLineByPage.action",dataType:"json",striped:!0,toolbar:"#toolbar",uniqueId:"trainLineId",pagination:!0,singleSelect:!1,idField:"trainLineId",sortable:!1,sidePagination:"server",queryParams:queryParams_ljxx,columns:[{idfield:"state",checkbox:!0,valign:"middle"},{title:"\u5e8f\u53f7",field:"id",align:"center",valign:"middle",formatter:function(a,t,e){return e+1}},{title:"\u914d\u5c5e\u5c40",field:"trainBureauName",align:"center",valign:"middle"},{title:"\u914d\u5c5e\u6bb5",field:"trainStationName",align:"center",valign:"middle"},{title:"\u914d\u5c5e\u8f66\u95f4",field:"trainShopName",align:"center",valign:"middle"},{title:"\u8f66\u6b21",field:"lineName",align:"center",valign:"middle"},{title:"\u8d77\u70b9\u7ad9",field:"startStation",align:"center",valign:"middle"},{title:"\u7ec8\u70b9\u7ad9",field:"endStation",align:"center",valign:"middle"},{title:"\u64cd\u4f5c",field:"cz",align:"center",valign:"middle",formatter:function(a,t,e){var i='<button class="btn btn-primary dom_xg" type="submit" onclick="ljxx_edit('+t.trainLineId+');" style="display:none;">\u4fee\u6539</button> <button class="btn btn-primary dom_sc" type="submit" onclick="ljxx_delOne('+t.trainLineId+');" style="display:none;">\u5220\u9664</button>';return i}}],onLoadSuccess:function(){var a=$("#table-ljxx");HideColumnCZ?$.each(JSON.parse(localStorage.getItem("listTree"+car_type)),function(a,t){if(void 0!=t[TempUrlPage]){var e=t[TempUrlPage].split(",");return $.each(e,function(a,t){$("."+t).show()}),!1}}):a.bootstrapTable("hideColumn","cz"),a.find('input[name="btSelectAll"]').click(function(){1==a.find('input[name="btSelectAll"]').prop("checked")?(a.find('input[name="btSelectItem"]').each(function(){TableIDArray.push(parseInt($(this).val()))}),TableIDArray=unique(TableIDArray)):a.find('input[name="btSelectItem"]').each(function(){0==$(this).prop("checked")&&TableIDArray.splice(TableIDArray.indexOf(parseInt($(this).val())),1)})}),a.find('input[name="btSelectAll"]').click(function(){1==a.find('input[name="btSelectAll"]').prop("checked")?($("#ljxx_del").removeClass("disabled"),$("#ljxx_del").prop("disabled",!1)):($("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0))}),a.find('input[name="btSelectItem"]').each(function(){-1!=TableIDArray.indexOf(parseInt($(this).val()))&&$(this).attr("checked",!0)}),a.find('input[name="btSelectItem"]').change(function(){1==$(this).prop("checked")?TableIDArray.push(parseInt($(this).val())):TableIDArray.splice(TableIDArray.indexOf(parseInt($(this).val())),1),0!=TableIDArray.length?($("#ljxx_del").removeClass("disabled"),$("#ljxx_del").prop("disabled",!1)):($("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0))}),TableIDArray=unique(TableIDArray)}}),$("#ljxx_add").click(function(){var a="";$.ajax({type:"post",url:"selectObject/getRailwayBureau.action",contentType:"application/json",dataType:"json",success:function(t){$.each(t,function(t,e){a+='<option value="'+e.value+'">'+e.text+"</option>"});var e="";e+='<div class="row"><div class="col-sm-12"><form class="form-horizontal" id="FormValidator">',e+='<br><div class="form-group"><label class="col-sm-3 control-label">\u914d\u5c5e\u5c40</label><div class="col-sm-8"><select id="RailwayBureau2" name="RailwayBureau2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u5c40</option>'+a+"</select></div></div>",e+='<div class="form-group"><label class="col-sm-3 control-label">\u914d\u5c5e\u6bb5</label><div class="col-sm-8"><select id="RailwayStation2" name="RailwayStation2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option></select></div></div>',e+='<div class="form-group"><label class="col-sm-3 control-label">\u914d\u5c5e\u8f66\u95f4</label><div class="col-sm-8"><select id="TrainShop2" name="TrainShop2" class="selectpicker form-control" data-live-search="true"><option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option></select></div></div>',e+='<div class="form-group"><label class="col-sm-3 control-label">\u8f66\u6b21</label><div class="col-sm-8"><input type="text" id="RailwayLine2" name="RailwayLine2" class="form-control" placeholder="\u8bf7\u8f93\u5165\u8f66\u6b21"></div></div>',e+='<div class="form-group"><label class="col-sm-3 control-label">\u8d77\u70b9\u7ad9</label><div class="col-sm-8"><input type="text" id="startStation2" name="startStation2" class="form-control" placeholder="\u8d77\u70b9\u7ad9"></div></div>',e+='<div class="form-group"><label class="col-sm-3 control-label">\u7ec8\u70b9\u7ad9</label><div class="col-sm-8"><input type="text" id="endStation2" name="endStation2" class="form-control" placeholder="\u7ec8\u70b9\u7ad9"></div></div>',e+="</form></div></div>",BootstrapDialog.show({title:"\u6dfb\u52a0\u914d\u5c5e\u5c40\u4fe1\u606f",message:e,onshown:function(a){$(".selectpicker").selectpicker("refresh"),$("#RailwayBureau2").change(function(){if(""!=$(this).val()){var a="";a="trainBureauId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:a,success:function(a){$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#RailwayStation2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("RailwayStation2","NOT_VALIDATED").validateField("RailwayStation2"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}})}else $("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("RailwayStation2","NOT_VALIDATED").validateField("RailwayStation2"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")}),$("#RailwayStation2").change(function(){if(""!=$(this).val()){var a="";a="trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:a,success:function(a){$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#TrainShop2").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})}else $("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh"),$("#FormValidator").data("bootstrapValidator").updateStatus("TrainShop2","NOT_VALIDATED").validateField("TrainShop2")}),$("#FormValidator").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{RailwayBureau2:{message:"\u914d\u5c5e\u5c40\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u5c40"}}},RailwayStation2:{message:"\u914d\u5c5e\u6bb5\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u6bb5"}}},TrainShop2:{message:"\u914d\u5c5e\u8f66\u95f4\u65e0\u6548",validators:{notEmpty:{message:"\u8bf7\u9009\u62e9\u914d\u5c5e\u8f66\u95f4"}}},RailwayLine2:{message:"\u8f66\u6b21\u65e0\u6548",validators:{notEmpty:{message:"\u8f66\u6b21\u4e0d\u80fd\u4e3a\u7a7a"}}},startStation2:{message:"\u8d77\u70b9\u7ad9\u65e0\u6548",validators:{notEmpty:{message:"\u8d77\u70b9\u7ad9\u4e0d\u80fd\u4e3a\u7a7a"}}},endStation2:{message:"\u7ec8\u70b9\u7ad9\u65e0\u6548",validators:{notEmpty:{message:"\u7ec8\u70b9\u7ad9\u4e0d\u80fd\u4e3a\u7a7a"}}}}})},buttons:[{label:"\u63d0\u4ea4",cssClass:"btn-primary",action:function(a){if($("#FormValidator").bootstrapValidator("validate"),$("#FormValidator").data("bootstrapValidator").isValid()){var t="";t="trainBureauId="+$("#RailwayBureau2").val()+"&trainStationId="+$("#RailwayStation2").val()+"&trainShopId="+$("#TrainShop2").val()+"&lineName="+$("#RailwayLine2").val()+"&startStation="+$("#startStation2").val()+"&endStation="+$("#endStation2").val(),$.ajax({type:"post",url:"trainLine/addTrainLine.action",timeout:6e4,dataType:"json",data:t,success:function(t){var e="";e=600009==t.result?t.message:ConfigCN[t.result],6e5==t.result&&($("#table-ljxx").bootstrapTable("refresh",{url:"trainLine/queryTrainLineByPage.action"}),$("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0),a.close()),BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:e,buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]})},error:function(a,t,e){"timeout"==t&&BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u8bf7\u6c42\u8d85\u65f6\uff01",buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]})}})}else BootstrapDialog.alert({title:"\u9a8c\u8bc1\u5931\u8d25",message:"\u8bf7\u786e\u8ba4\u8f93\u5165\u5185\u5bb9\u683c\u5f0f\u662f\u5426\u6b63\u786e\uff01",type:BootstrapDialog.TYPE_DANGER,buttonLabel:"\u786e\u8ba4"})}},{label:"\u91cd\u7f6e",action:function(a){$("#FormValidator").data("bootstrapValidator").resetForm(!0),$("#RailwayStation2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop2").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh"),$("#startStation2").val(""),$("#endStation2").val("")}},{label:"\u5173\u95ed",action:function(a){a.close()}}]})},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01")}})}),$("#ljxx_del").click(function(){0!=TableIDArray.length&&BootstrapDialog.confirm({title:"\u6279\u91cf\u5220\u9664\u786e\u8ba4\u63d0\u9192",message:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u6240\u9009\u62e9\u8f66\u6b21\u4fe1\u606f\uff1f",closable:!0,draggable:!0,btnCancelLabel:"\u53d6\u6d88",btnOKLabel:"\u786e\u8ba4",callback:function(a){if(a){var t="";t="trainLineIds="+String(TableIDArray),$.ajax({type:"post",url:"trainLine/doDelTrainLine.action",timeout:6e4,dataType:"json",data:t,success:function(a){return 600002!=a.result?(BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[a.result],buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),!1):($("#table-ljxx").bootstrapTable("refresh",{url:"trainLine/queryTrainLineByPage.action"}),$("#ljxx_del").addClass("disabled"),$("#ljxx_del").prop("disabled",!0),BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:ConfigCN[a.result],buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),void 0)},error:function(a,t,e){"timeout"==t&&BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:"\u8bf7\u6c42\u8d85\u65f6\uff01",buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]})}})}}})}),$("#ljxx_Template").click(function(a){window.open("excelTemplate/importBureauInfo.xls")}),$("#ljxx_dr").click(function(){var a="";a+='<input id="file_excel" name="file_excel" class="file" type="file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">',BootstrapDialog.show({title:"\u8f66\u6b21\u4fe1\u606f\u5bfc\u5165",message:a,onshown:function(a){$("#file_excel").fileinput({language:"zh",uploadUrl:"trainLine/importTrainLine.action",allowedFileExtensions:["xls","xlsx"],showPreview:!1,browseClass:"btn btn-primary",dropZoneEnabled:!1,maxFileCount:1,enctype:"multipart/form-data",validateInitialCount:!1}),$("#file_excel").on("fileuploaded",function(t,e,i,o){$("#table-ycgl").bootstrapTable("refresh",{url:"trainLine/importTrainLine.action"});var l="";l=600009==e.response.result?e.response.message:ConfigCN[e.response.result],BootstrapDialog.show({title:"\u7cfb\u7edf\u63d0\u793a",message:l,buttons:[{label:"\u5173\u95ed",action:function(a){a.close()}}]}),a.close()})}})}),$.ajax({type:"post",url:"selectObject/getRailwayBureau.action",contentType:"application/json",dataType:"json",success:function(a){$.each(a,function(a,t){$("#RailwayBureau").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u5c40\u4fe1\u606f\uff01")}}),getRailwayLine("","",""),$("#RailwayBureau").change(function(){if(getRailwayLine($(this).val(),"",""),""!=$(this).val()){var a="";a="trainBureauId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayStation.action",dataType:"json",data:a,success:function(a){$("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#RailwayStation").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u6bb5\u4fe1\u606f\uff01")}})}else $("#RailwayStation").html('<option value="">\u9009\u62e9\u914d\u5c5e\u6bb5</option>'),$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh")}),$("#RailwayStation").change(function(){if(getRailwayLine($("#RailwayBureau").val(),$(this).val(),""),""!=$(this).val()){var a="";a="trainBureauId="+$("#RailwayBureau").val()+"&trainStationId="+$(this).val(),$.ajax({type:"post",contentType:"application/x-www-form-urlencoded",url:"selectObject/getRailwayShop.action",dataType:"json",data:a,success:function(a){$("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$.each(a,function(a,t){$("#TrainShop").append('<option value="'+t.value+'">'+t.text+"</option>")}),$(".selectpicker").selectpicker("refresh")},error:function(){errorNotify(null,"\u65e0\u6cd5\u83b7\u53d6\u914d\u5c5e\u8f66\u95f4\u4fe1\u606f\uff01")}})}else $("#TrainShop").html('<option value="">\u9009\u62e9\u914d\u5c5e\u8f66\u95f4</option>'),$(".selectpicker").selectpicker("refresh")}),$("#TrainShop").change(function(){getRailwayLine($("#RailwayBureau").val(),$("#RailwayStation").val(),$(this).val())}),$("#serach_button").click(function(){$("#table-ljxx").bootstrapTable("refresh",{url:"trainLine/queryTrainLineByPage.action",queryParams:queryParams_ljxx})}),$("#ljxx_download").click(function(){var a=$("#RailwayBureau").val(),t=$("#RailwayStation").val(),e=$("#RailwayLine").val();null==a&&(a=""),null==t&&(t=""),null==e&&(e=""),null==car_type&&(car_type=""),window.open("trainLine/exportTrainLine.action?trainBureauId="+a+"&trainStationId="+t+"&trainLineId="+e+"&car_type="+car_type)});